% Encoding of Ising model to test program transformation.

type(bool, [t, f]).
outcomes(node, [bool]).
outcomes(edge, [bool,bool]).

set_sw(node, [0.5, 0.5]).
set_sw(edge, [0.49, 0.01, 0.01, 0.49]).

ising(A, B, C, D) :-
    msw(node, 1, [A]),
    msw(node, 2, [B]),
    msw(node, 3, [C]),
    msw(node, 4, [D]),
    msw(edge, 1, [A,B]),
    msw(edge, 2, [B,C]),
    msw(edge, 3, [C,D]),
    msw(edge, 4, [D,A]).

query :-
    ising(t, t, t, t).

evidence :-
    ising(A, B, C, D).


