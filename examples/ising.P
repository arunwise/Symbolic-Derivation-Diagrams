values(a, [t, f]).
values(bt, [t, f]).
values(bf, [t, f]).
set_sw(a, [0.5, 0.5]).
set_sw(bt, [0.9, 0.1]).
set_sw(bf, [0.9, 0.1]).

factor(F, V1, V2) :-
	 msw(a, F, V1),
	 {V1=t},
	 msw(bt, F, V2).

factor(F, V1, V2) :-
	 msw(a, F, V1),
	 {V1=f},
	 msw(bf, F, V2).

world(Fh11V1, Fh11V2, Fh12V1, Fh12V2, Fh13V1, Fh13V2, Fh14V1, Fh14V2, Fh15V1, Fh15V2, Fh21V1, Fh21V2, Fh22V1, Fh22V2, Fh23V1, Fh23V2, Fh24V1, Fh24V2, Fh25V1, Fh25V2, Fh31V1, Fh31V2, Fh32V1, Fh32V2, Fh33V1, Fh33V2, Fh34V1, Fh34V2, Fh35V1, Fh35V2, Fh41V1, Fh41V2, Fh42V1, Fh42V2, Fh43V1, Fh43V2, Fh44V1, Fh44V2, Fh45V1, Fh45V2, Fh51V1, Fh51V2, Fh52V1, Fh52V2, Fh53V1, Fh53V2, Fh54V1, Fh54V2, Fh55V1, Fh55V2, Fh61V1, Fh61V2, Fh62V1, Fh62V2, Fh63V1, Fh63V2, Fh64V1, Fh64V2, Fh65V1, Fh65V2, Fv11V1, Fv11V2, Fv12V1, Fv12V2, Fv13V1, Fv13V2, Fv14V1, Fv14V2, Fv15V1, Fv15V2, Fv21V1, Fv21V2, Fv22V1, Fv22V2, Fv23V1, Fv23V2, Fv24V1, Fv24V2, Fv25V1, Fv25V2, Fv31V1, Fv31V2, Fv32V1, Fv32V2, Fv33V1, Fv33V2, Fv34V1, Fv34V2, Fv35V1, Fv35V2, Fv41V1, Fv41V2, Fv42V1, Fv42V2, Fv43V1, Fv43V2, Fv44V1, Fv44V2, Fv45V1, Fv45V2, Fv51V1, Fv51V2, Fv52V1, Fv52V2, Fv53V1, Fv53V2, Fv54V1, Fv54V2, Fv55V1, Fv55V2, Fv61V1, Fv61V2, Fv62V1, Fv62V2, Fv63V1, Fv63V2, Fv64V1, Fv64V2, Fv65V1, Fv65V2) :-
	 factor(h11, Fh11V1, Fh11V2),
	 factor(h12, Fh12V1, Fh12V2),
	 factor(h13, Fh13V1, Fh13V2),
	 factor(h14, Fh14V1, Fh14V2),
	 factor(h15, Fh15V1, Fh15V2),
	 factor(h21, Fh21V1, Fh21V2),
	 factor(h22, Fh22V1, Fh22V2),
	 factor(h23, Fh23V1, Fh23V2),
	 factor(h24, Fh24V1, Fh24V2),
	 factor(h25, Fh25V1, Fh25V2),
	 factor(h31, Fh31V1, Fh31V2),
	 factor(h32, Fh32V1, Fh32V2),
	 factor(h33, Fh33V1, Fh33V2),
	 factor(h34, Fh34V1, Fh34V2),
	 factor(h35, Fh35V1, Fh35V2),
	 factor(h41, Fh41V1, Fh41V2),
	 factor(h42, Fh42V1, Fh42V2),
	 factor(h43, Fh43V1, Fh43V2),
	 factor(h44, Fh44V1, Fh44V2),
	 factor(h45, Fh45V1, Fh45V2),
	 factor(h51, Fh51V1, Fh51V2),
	 factor(h52, Fh52V1, Fh52V2),
	 factor(h53, Fh53V1, Fh53V2),
	 factor(h54, Fh54V1, Fh54V2),
	 factor(h55, Fh55V1, Fh55V2),
	 factor(h61, Fh61V1, Fh61V2),
	 factor(h62, Fh62V1, Fh62V2),
	 factor(h63, Fh63V1, Fh63V2),
	 factor(h64, Fh64V1, Fh64V2),
	 factor(h65, Fh65V1, Fh65V2),
	 factor(v11, Fv11V1, Fv11V2),
	 factor(v12, Fv12V1, Fv12V2),
	 factor(v13, Fv13V1, Fv13V2),
	 factor(v14, Fv14V1, Fv14V2),
	 factor(v15, Fv15V1, Fv15V2),
	 factor(v21, Fv21V1, Fv21V2),
	 factor(v22, Fv22V1, Fv22V2),
	 factor(v23, Fv23V1, Fv23V2),
	 factor(v24, Fv24V1, Fv24V2),
	 factor(v25, Fv25V1, Fv25V2),
	 factor(v31, Fv31V1, Fv31V2),
	 factor(v32, Fv32V1, Fv32V2),
	 factor(v33, Fv33V1, Fv33V2),
	 factor(v34, Fv34V1, Fv34V2),
	 factor(v35, Fv35V1, Fv35V2),
	 factor(v41, Fv41V1, Fv41V2),
	 factor(v42, Fv42V1, Fv42V2),
	 factor(v43, Fv43V1, Fv43V2),
	 factor(v44, Fv44V1, Fv44V2),
	 factor(v45, Fv45V1, Fv45V2),
	 factor(v51, Fv51V1, Fv51V2),
	 factor(v52, Fv52V1, Fv52V2),
	 factor(v53, Fv53V1, Fv53V2),
	 factor(v54, Fv54V1, Fv54V2),
	 factor(v55, Fv55V1, Fv55V2),
	 factor(v61, Fv61V1, Fv61V2),
	 factor(v62, Fv62V1, Fv62V2),
	 factor(v63, Fv63V1, Fv63V2),
	 factor(v64, Fv64V1, Fv64V2),
	 factor(v65, Fv65V1, Fv65V2).

evidence :-
	 world(Fh11V1, Fh11V2, Fh12V1, Fh12V2, Fh13V1, Fh13V2, Fh14V1, Fh14V2, Fh15V1, Fh15V2, Fh21V1, Fh21V2, Fh22V1, Fh22V2, Fh23V1, Fh23V2, Fh24V1, Fh24V2, Fh25V1, Fh25V2, Fh31V1, Fh31V2, Fh32V1, Fh32V2, Fh33V1, Fh33V2, Fh34V1, Fh34V2, Fh35V1, Fh35V2, Fh41V1, Fh41V2, Fh42V1, Fh42V2, Fh43V1, Fh43V2, Fh44V1, Fh44V2, Fh45V1, Fh45V2, Fh51V1, Fh51V2, Fh52V1, Fh52V2, Fh53V1, Fh53V2, Fh54V1, Fh54V2, Fh55V1, Fh55V2, Fh61V1, Fh61V2, Fh62V1, Fh62V2, Fh63V1, Fh63V2, Fh64V1, Fh64V2, Fh65V1, Fh65V2, Fv11V1, Fv11V2, Fv12V1, Fv12V2, Fv13V1, Fv13V2, Fv14V1, Fv14V2, Fv15V1, Fv15V2, Fv21V1, Fv21V2, Fv22V1, Fv22V2, Fv23V1, Fv23V2, Fv24V1, Fv24V2, Fv25V1, Fv25V2, Fv31V1, Fv31V2, Fv32V1, Fv32V2, Fv33V1, Fv33V2, Fv34V1, Fv34V2, Fv35V1, Fv35V2, Fv41V1, Fv41V2, Fv42V1, Fv42V2, Fv43V1, Fv43V2, Fv44V1, Fv44V2, Fv45V1, Fv45V2, Fv51V1, Fv51V2, Fv52V1, Fv52V2, Fv53V1, Fv53V2, Fv54V1, Fv54V2, Fv55V1, Fv55V2, Fv61V1, Fv61V2, Fv62V1, Fv62V2, Fv63V1, Fv63V2, Fv64V1, Fv64V2, Fv65V1, Fv65V2),
	{Fh11V1 = Fv11V1},
	{Fh11V2 = Fv21V1},
	{Fh11V2 = Fh12V1},
	{Fh12V1 = Fv21V1},
	{Fh12V2 = Fv31V1},
	{Fh12V2 = Fh13V1},
	{Fh13V1 = Fv31V1},
	{Fh13V2 = Fv41V1},
	{Fh13V2 = Fh14V1},
	{Fh14V1 = Fv41V1},
	{Fh14V2 = Fv51V1},
	{Fh14V2 = Fh15V1},
	{Fh15V1 = Fv51V1},
	{Fh15V2 = Fv61V1},
	{Fh21V1 = Fv11V2},
	{Fh21V2 = Fv21V2},
	{Fh21V1 = Fv12V1},
	{Fh21V2 = Fv22V1},
	{Fh21V2 = Fh22V1},
	{Fh22V1 = Fv21V2},
	{Fh22V2 = Fv31V2},
	{Fh22V1 = Fv22V1},
	{Fh22V2 = Fv32V1},
	{Fh22V2 = Fh23V1},
	{Fh23V1 = Fv31V2},
	{Fh23V2 = Fv41V2},
	{Fh23V1 = Fv32V1},
	{Fh23V2 = Fv42V1},
	{Fh23V2 = Fh24V1},
	{Fh24V1 = Fv41V2},
	{Fh24V2 = Fv51V2},
	{Fh24V1 = Fv42V1},
	{Fh24V2 = Fv52V1},
	{Fh24V2 = Fh25V1},
	{Fh25V1 = Fv51V2},
	{Fh25V2 = Fv61V2},
	{Fh25V1 = Fv52V1},
	{Fh25V2 = Fv62V1},
	{Fh31V1 = Fv12V2},
	{Fh31V2 = Fv22V2},
	{Fh31V1 = Fv13V1},
	{Fh31V2 = Fv23V1},
	{Fh31V2 = Fh32V1},
	{Fh32V1 = Fv22V2},
	{Fh32V2 = Fv32V2},
	{Fh32V1 = Fv23V1},
	{Fh32V2 = Fv33V1},
	{Fh32V2 = Fh33V1},
	{Fh33V1 = Fv32V2},
	{Fh33V2 = Fv42V2},
	{Fh33V1 = Fv33V1},
	{Fh33V2 = Fv43V1},
	{Fh33V2 = Fh34V1},
	{Fh34V1 = Fv42V2},
	{Fh34V2 = Fv52V2},
	{Fh34V1 = Fv43V1},
	{Fh34V2 = Fv53V1},
	{Fh34V2 = Fh35V1},
	{Fh35V1 = Fv52V2},
	{Fh35V2 = Fv62V2},
	{Fh35V1 = Fv53V1},
	{Fh35V2 = Fv63V1},
	{Fh41V1 = Fv13V2},
	{Fh41V2 = Fv23V2},
	{Fh41V1 = Fv14V1},
	{Fh41V2 = Fv24V1},
	{Fh41V2 = Fh42V1},
	{Fh42V1 = Fv23V2},
	{Fh42V2 = Fv33V2},
	{Fh42V1 = Fv24V1},
	{Fh42V2 = Fv34V1},
	{Fh42V2 = Fh43V1},
	{Fh43V1 = Fv33V2},
	{Fh43V2 = Fv43V2},
	{Fh43V1 = Fv34V1},
	{Fh43V2 = Fv44V1},
	{Fh43V2 = Fh44V1},
	{Fh44V1 = Fv43V2},
	{Fh44V2 = Fv53V2},
	{Fh44V1 = Fv44V1},
	{Fh44V2 = Fv54V1},
	{Fh44V2 = Fh45V1},
	{Fh45V1 = Fv53V2},
	{Fh45V2 = Fv63V2},
	{Fh45V1 = Fv54V1},
	{Fh45V2 = Fv64V1},
	{Fh51V1 = Fv14V2},
	{Fh51V2 = Fv24V2},
	{Fh51V1 = Fv15V1},
	{Fh51V2 = Fv25V1},
	{Fh51V2 = Fh52V1},
	{Fh52V1 = Fv24V2},
	{Fh52V2 = Fv34V2},
	{Fh52V1 = Fv25V1},
	{Fh52V2 = Fv35V1},
	{Fh52V2 = Fh53V1},
	{Fh53V1 = Fv34V2},
	{Fh53V2 = Fv44V2},
	{Fh53V1 = Fv35V1},
	{Fh53V2 = Fv45V1},
	{Fh53V2 = Fh54V1},
	{Fh54V1 = Fv44V2},
	{Fh54V2 = Fv54V2},
	{Fh54V1 = Fv45V1},
	{Fh54V2 = Fv55V1},
	{Fh54V2 = Fh55V1},
	{Fh55V1 = Fv54V2},
	{Fh55V2 = Fv64V2},
	{Fh55V1 = Fv55V1},
	{Fh55V2 = Fv65V1},
	{Fh61V1 = Fv15V2},
	{Fh61V2 = Fv25V2},
	{Fh61V2 = Fh62V1},
	{Fh62V1 = Fv25V2},
	{Fh62V2 = Fv35V2},
	{Fh62V2 = Fh63V1},
	{Fh63V1 = Fv35V2},
	{Fh63V2 = Fv45V2},
	{Fh63V2 = Fh64V1},
	{Fh64V1 = Fv45V2},
	{Fh64V2 = Fv55V2},
	{Fh64V2 = Fh65V1},
	{Fh65V1 = Fv55V2},
	{Fh65V2 = Fv65V2},
	{Fv11V2 = Fv12V1},
	{Fv12V2 = Fv13V1},
	{Fv13V2 = Fv14V1},
	{Fv14V2 = Fv15V1},
	{Fv21V2 = Fv22V1},
	{Fv22V2 = Fv23V1},
	{Fv23V2 = Fv24V1},
	{Fv24V2 = Fv25V1},
	{Fv31V2 = Fv32V1},
	{Fv32V2 = Fv33V1},
	{Fv33V2 = Fv34V1},
	{Fv34V2 = Fv35V1},
	{Fv41V2 = Fv42V1},
	{Fv42V2 = Fv43V1},
	{Fv43V2 = Fv44V1},
	{Fv44V2 = Fv45V1},
	{Fv51V2 = Fv52V1},
	{Fv52V2 = Fv53V1},
	{Fv53V2 = Fv54V1},
	{Fv54V2 = Fv55V1},
	{Fv61V2 = Fv62V1},
	{Fv62V2 = Fv63V1},
	{Fv63V2 = Fv64V1},
	{Fv64V2 = Fv65V1}.

query :- 
	 world(Fh11V1, Fh11V2, Fh12V1, Fh12V2, Fh13V1, Fh13V2, Fh14V1, Fh14V2, Fh15V1, Fh15V2, Fh21V1, Fh21V2, Fh22V1, Fh22V2, Fh23V1, Fh23V2, Fh24V1, Fh24V2, Fh25V1, Fh25V2, Fh31V1, Fh31V2, Fh32V1, Fh32V2, Fh33V1, Fh33V2, Fh34V1, Fh34V2, Fh35V1, Fh35V2, Fh41V1, Fh41V2, Fh42V1, Fh42V2, Fh43V1, Fh43V2, Fh44V1, Fh44V2, Fh45V1, Fh45V2, Fh51V1, Fh51V2, Fh52V1, Fh52V2, Fh53V1, Fh53V2, Fh54V1, Fh54V2, Fh55V1, Fh55V2, Fh61V1, Fh61V2, Fh62V1, Fh62V2, Fh63V1, Fh63V2, Fh64V1, Fh64V2, Fh65V1, Fh65V2, Fv11V1, Fv11V2, Fv12V1, Fv12V2, Fv13V1, Fv13V2, Fv14V1, Fv14V2, Fv15V1, Fv15V2, Fv21V1, Fv21V2, Fv22V1, Fv22V2, Fv23V1, Fv23V2, Fv24V1, Fv24V2, Fv25V1, Fv25V2, Fv31V1, Fv31V2, Fv32V1, Fv32V2, Fv33V1, Fv33V2, Fv34V1, Fv34V2, Fv35V1, Fv35V2, Fv41V1, Fv41V2, Fv42V1, Fv42V2, Fv43V1, Fv43V2, Fv44V1, Fv44V2, Fv45V1, Fv45V2, Fv51V1, Fv51V2, Fv52V1, Fv52V2, Fv53V1, Fv53V2, Fv54V1, Fv54V2, Fv55V1, Fv55V2, Fv61V1, Fv61V2, Fv62V1, Fv62V2, Fv63V1, Fv63V2, Fv64V1, Fv64V2, Fv65V1, Fv65V2),
	{Fh11V1 = t},
	{Fh11V2 = t},
	{Fh12V1 = t},
	{Fh12V2 = t},
	{Fh13V1 = t},
	{Fh13V2 = t},
	{Fh14V1 = t},
	{Fh14V2 = t},
	{Fh15V1 = t},
	{Fh15V2 = t},
	{Fh21V1 = t},
	{Fh21V2 = t},
	{Fh22V1 = t},
	{Fh22V2 = t},
	{Fh23V1 = t},
	{Fh23V2 = t},
	{Fh24V1 = t},
	{Fh24V2 = t},
	{Fh25V1 = t},
	{Fh25V2 = t},
	{Fh31V1 = t},
	{Fh31V2 = t},
	{Fh32V1 = t},
	{Fh32V2 = t},
	{Fh33V1 = t},
	{Fh33V2 = t},
	{Fh34V1 = t},
	{Fh34V2 = t},
	{Fh35V1 = t},
	{Fh35V2 = t},
	{Fh41V1 = t},
	{Fh41V2 = t},
	{Fh42V1 = t},
	{Fh42V2 = t},
	{Fh43V1 = t},
	{Fh43V2 = t},
	{Fh44V1 = t},
	{Fh44V2 = t},
	{Fh45V1 = t},
	{Fh45V2 = t},
	{Fh51V1 = t},
	{Fh51V2 = t},
	{Fh52V1 = t},
	{Fh52V2 = t},
	{Fh53V1 = t},
	{Fh53V2 = t},
	{Fh54V1 = t},
	{Fh54V2 = t},
	{Fh55V1 = t},
	{Fh55V2 = t},
	{Fh61V1 = t},
	{Fh61V2 = t},
	{Fh62V1 = t},
	{Fh62V2 = t},
	{Fh63V1 = t},
	{Fh63V2 = t},
	{Fh64V1 = t},
	{Fh64V2 = t},
	{Fh65V1 = t},
	{Fh65V2 = t},
	{Fv11V1 = t},
	{Fv11V2 = t},
	{Fv12V1 = t},
	{Fv12V2 = t},
	{Fv13V1 = t},
	{Fv13V2 = t},
	{Fv14V1 = t},
	{Fv14V2 = t},
	{Fv15V1 = t},
	{Fv15V2 = t},
	{Fv21V1 = t},
	{Fv21V2 = t},
	{Fv22V1 = t},
	{Fv22V2 = t},
	{Fv23V1 = t},
	{Fv23V2 = t},
	{Fv24V1 = t},
	{Fv24V2 = t},
	{Fv25V1 = t},
	{Fv25V2 = t},
	{Fv31V1 = t},
	{Fv31V2 = t},
	{Fv32V1 = t},
	{Fv32V2 = t},
	{Fv33V1 = t},
	{Fv33V2 = t},
	{Fv34V1 = t},
	{Fv34V2 = t},
	{Fv35V1 = t},
	{Fv35V2 = t},
	{Fv41V1 = t},
	{Fv41V2 = t},
	{Fv42V1 = t},
	{Fv42V2 = t},
	{Fv43V1 = t},
	{Fv43V2 = t},
	{Fv44V1 = t},
	{Fv44V2 = t},
	{Fv45V1 = t},
	{Fv45V2 = t},
	{Fv51V1 = t},
	{Fv51V2 = t},
	{Fv52V1 = t},
	{Fv52V2 = t},
	{Fv53V1 = t},
	{Fv53V2 = t},
	{Fv54V1 = t},
	{Fv54V2 = t},
	{Fv55V1 = t},
	{Fv55V2 = t},
	{Fv61V1 = t},
	{Fv61V2 = t},
	{Fv62V1 = t},
	{Fv62V2 = t},
	{Fv63V1 = t},
	{Fv63V2 = t},
	{Fv64V1 = t},
	{Fv64V2 = t},
	{Fv65V1 = t},
	{Fv65V2 = t}.

qe :- evidence, query.
